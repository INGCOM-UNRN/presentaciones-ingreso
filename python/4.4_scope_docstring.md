---
marp: true
theme: UNRN
paginate: false
header: 'UNRN Andina'
footer: 'Curso de Ingreso - Ingenier√≠a en Computaci√≥n - UNRN Andina'
size: 4:3
---

<!-- _class: lead -->
<!-- _footer: 'Funciones - Parte 4/6' -->

# <!-- fit --> Scope: Alcance de Variables
## D√≥nde viven las variables
Curso de Ingreso - Ingenier√≠a en Computaci√≥n

<!--
NOTAS DEL ORADOR:
- Duraci√≥n estimada: 3 minutos
- Objetivo: Entender la "vida √∫til" y "visibilidad" de las variables.
- Gancho: "¬øPor qu√© a veces Python dice que mi variable no existe, aunque la defin√≠ unas l√≠neas m√°s arriba? La respuesta es el Scope."
-->

---

<!-- _header: '¬øQu√© es scope?' -->

# Alcance de variables

**Scope = D√≥nde existe una variable**

```python
x = 10  # Variable global

def funcion():
    y = 5  # Variable local
    print(x)  # Puede ver global
    print(y)  # Puede ver local

funcion()
print(x)  # Funciona
print(y)  # Error! y no existe aqu√≠
```

<!--
NOTAS DEL ORADOR:
- Analog√≠a:
    - Global = El Sol (todos lo ven).
    - Local = La l√°mpara de tu habitaci√≥n (solo la ves vos dentro de la habitaci√≥n).
- Intentar acceder a `y` desde fuera es como intentar ver la luz de la l√°mpara desde la calle con la persiana cerrada.
-->

---

<!-- _header: 'Dos tipos' -->

# Global vs Local

**Variable global:**
* Fuera de funciones
* Accesible en todo el programa
* Vive todo el tiempo

**Variable local:**
* Dentro de funci√≥n
* Solo existe ah√≠
* Se destruye al terminar

<!--
NOTAS DEL ORADOR:
- Ciclo de vida:
    - Las globales viven mientras corre el programa.
    - Las locales nacen cuando se llama a la funci√≥n y mueren cuando termina (return).
- "Lo que pasa en la funci√≥n, se queda en la funci√≥n".
-->

---

<!-- _header: 'Ejemplo visual' -->

# Scope en acci√≥n

```python
nombre = "Global"  # Scope global

def saludar():
    nombre = "Local"  # Scope local
    print(f"Dentro: {nombre}")

saludar()  # Imprime: Dentro: Local
print(f"Fuera: {nombre}")  # Imprime: Fuera: Global
```

**Son variables diferentes**

<!--
NOTAS DEL ORADOR:
- Shadowing (Sombreado): La variable local "tapa" a la global con el mismo nombre.
- Son como dos personas distintas que se llaman "Juan".
- Python prefiere siempre la m√°s cercana (local).
-->

---

<!-- _header: 'Leer vs Modificar' -->

# Acceso a globales

**Leer (funciona):**
```python
contador = 0

def mostrar():
    print(contador)  # Lee global

mostrar()  # 0
```

**Modificar (no funciona):**
```python
contador = 0

def incrementar():
    contador += 1  # Error!

incrementar()  # UnboundLocalError
```

<!--
NOTAS DEL ORADOR:
- Este error confunde mucho.
- Al hacer `contador += 1`, Python piensa que est√°s intentando crear una NUEVA variable local `contador` y sumarle 1 a su valor anterior... ¬°que no existe!
- Protecci√≥n por defecto: Python evita que modifiques globales accidentalmente.
-->

---

<!-- _header: 'Keyword global' -->

# Modificar variable global

**Usar global:**
```python
contador = 0

def incrementar():
    global contador  # Declarar global
    contador += 1

incrementar()
print(contador)  # 1

incrementar()
print(contador)  # 2
```

**‚ö†Ô∏è Usar con precauci√≥n**

<!--
NOTAS DEL ORADOR:
- La palabra clave `global` es el permiso expl√≠cito para modificar.
- ADVERTENCIA: Usar globales mutables es generalmente una MALA IDEA (Spaghetti code). Hace que las funciones dependan de cosas externas invisibles.
-->

---

<!-- _header: '¬øPor qu√© evitar global?' -->

# Problemas de globales

**Dif√≠cil de rastrear:**
```python
total = 0

def funcion1():
    global total
    total += 10

def funcion2():
    global total
    total -= 5

# ¬øCu√°nto vale total ahora? ü§î
```

**Mejor: Par√°metros y return**

<!--
NOTAS DEL ORADOR:
- Efectos secundarios (Side Effects).
- Si `funcion1` y `funcion2` est√°n en archivos distintos, debugging es una pesadilla.
- Principio de funci√≥n pura: El output depende solo del input.
-->

---

<!-- _header: 'Mejor pr√°ctica' -->

# Sin global

**‚ùå Con global:**
```python
contador = 0

def incrementar():
    global contador
    contador += 1

incrementar()
```

**‚úÖ Con return:**
```python
def incrementar(contador):
    return contador + 1

contador = 0
contador = incrementar(contador)
```

<!--
NOTAS DEL ORADOR:
- Soluci√≥n elegante: Pasar el valor como argumento y devolver el nuevo valor.
- El estado se gestiona expl√≠citamente fuera, la funci√≥n solo transforma datos.
-->

---

<!-- _header: 'Par√°metros son locales' -->

# Variables de par√°metros

```python
def duplicar(numero):
    numero = numero * 2  # Local
    return numero

x = 5
resultado = duplicar(x)
print(x)        # 5 (no cambi√≥)
print(resultado)  # 10
```

**Par√°metros son copias**

<!--
NOTAS DEL ORADOR:
- Aclaraci√≥n t√©cnica: En Python es "Pass by Object Reference", pero para n√∫meros/strings (inmutables) se comporta como copia.
- Modificar el par√°metro dentro no afecta a la variable original fuera.
-->

---

<!-- _header: 'Regla LEGB' -->

# Orden de b√∫squeda

**Python busca variables en orden:**
1. **L**ocal - Dentro de la funci√≥n
2. **E**nclosing - Funci√≥n contenedora
3. **G**lobal - M√≥dulo
4. **B**uilt-in - Nombres internos

```python
x = "global"

def externa():
    x = "enclosing"
    
    def interna():
        x = "local"
        print(x)  # "local"
    
    interna()

externa()
```

<!--
NOTAS DEL ORADOR:
- Regla mnemot√©cnica LEGB.
- Python busca de adentro hacia afuera. Si encuentra en Local, para. Si no, busca afuera.
-->

---

<!-- _class: inverse -->

# <!-- fit --> Documentaci√≥n
## Docstrings

<!--
NOTAS DEL ORADOR:
- Cambio de tema: De c√≥mo Python entiende nuestro c√≥digo a c√≥mo los HUMANOS entienden nuestro c√≥digo.
-->

---

<!-- _header: 'Docstrings' -->

# Documentar funciones

**Usar comillas triples:**
```python
def calcular_area(base, altura):
    """
    Calcula el √°rea de un tri√°ngulo.
    
    Args:
        base: Base del tri√°ngulo
        altura: Altura del tri√°ngulo
    
    Returns:
        float: √Årea del tri√°ngulo
    """
    return (base * altura) / 2
```

<!--
NOTAS DEL ORADOR:
- El Docstring es la primera l√≠nea l√≥gica de la funci√≥n.
- No es un comentario `#`. Es un string literal que Python guarda en `__doc__`.
- Estilo Google / NumPy / Sphinx.
-->

---

<!-- _header: 'Acceder a docstring' -->

# help() y __doc__

```python
def sumar(a, b):
    """Suma dos n√∫meros."""
    return a + b

# Ver documentaci√≥n
help(sumar)

# O directamente
print(sumar.__doc__)
# Salida: Suma dos n√∫meros.
```

<!--
NOTAS DEL ORADOR:
- Cuando en Jupyter hac√©s `Shift + Tab`, lo que ves es este Docstring.
- Escribir buenos docstrings ayuda a tu "yo del futuro".
-->

---

<!-- _header: 'Estilo recomendado' -->

# Formato docstring

**Breve:**
```python
def saludar(nombre):
    """Saluda a una persona."""
    print(f"Hola, {nombre}")
```

**Detallado:**
```python
def dividir(a, b):
    """
    Divide dos n√∫meros.
    
    Args:
        a (float): Dividendo
        b (float): Divisor
        
    Returns:
        float: Resultado de a/b
        
    Raises:
        ZeroDivisionError: Si b es 0
    """
    return a / b
```

<!--
NOTAS DEL ORADOR:
- Si la funci√≥n es obvia, una l√≠nea basta.
- Si es compleja, usar formato Args/Returns.
-->

---

<!-- _header: 'Ejercicio' -->

# Conversor de temperatura

**Crea una funci√≥n que:**
1. Se llame `celsius_a_fahrenheit`
2. Reciba temperatura en Celsius
3. Convierta: F = C √ó 9/5 + 32
4. Devuelva resultado
5. Incluya docstring

<!--
NOTAS DEL ORADOR:
- Ejercicio integrador: Scope (no usar globales), Return, Docstring.
-->

---

<!-- _header: 'Ejercicio - Soluci√≥n' -->

# Posible soluci√≥n

```python
def celsius_a_fahrenheit(celsius):
    """
    Convierte Celsius a Fahrenheit.
    
    Args:
        celsius: Temperatura en Celsius
        
    Returns:
        float: Temperatura en Fahrenheit
    """
    fahrenheit = celsius * 9/5 + 32
    return fahrenheit

# Probar
temp_c = 25
temp_f = celsius_a_fahrenheit(temp_c)
print(f"{temp_c}¬∞C = {temp_f}¬∞F")
# 25¬∞C = 77.0¬∞F
```

<!--
NOTAS DEL ORADOR:
- Verificar que hayan puesto el docstring dentro de la funci√≥n.
-->

---

<!-- _header: 'Resumen' -->

# Para recordar

**Scope:**
* Local - dentro de funci√≥n
* Global - fuera de funci√≥n
* Evitar modificar globales

**Mejores pr√°cticas:**
* Par√°metros y return
* No usar `global` si es posible

**Documentaci√≥n:**
* Docstring con `"""`
* Describir qu√© hace
* Args y Returns

**Pr√≥ximo:**
* Funciones lambda y avanzado

<!--
NOTAS DEL ORADOR:
- Cierre.
- Pr√≥ximo: Funciones an√≥nimas y recursi√≥n (temas avanzados).
-->

---

<!-- _class: centered -->

# ¬øPreguntas?